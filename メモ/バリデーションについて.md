##バリデーションとは
バリデーションとは、データベースに保存する際、投稿された内容を検証し、保存するかどうかを検証すること。
<br>
また、バリデーションを定義すると、以下の処理が動く前に検証される。
<br>
・save(検証でデータが保存されない場合はfalseを返す)
・save!
・create(保存の有無にかかわらずオブジェクト自身を返す)
・create!
・update(saveと同様)
・update!
<br>
メソッドの後ろに!をつけると例外処理が発生するため、エラー文が表示される。
そのため、データの保存に失敗する場合には、!をつけると良い。
<br>
## バリデーションの定義方法
モデルに以下のように定義する。
```モデル
validates :カラム名, ヘルパー
```
<br>
なお、validatesには複数のカラムを指定できる。
<br>
しかし、モデルにのみ定義している場合、Rails側で保存させないだけであるため、と投稿フォームの検証はできるが、SQLからの実行は検証できない。
そのため、マイグレーションファイルでもバリデーションを定義しておく必要がある。
<br>
```マイグレーションファイル
t.データ型 :カラム名, null: false　
```
<br>
`null: false`を指定することで、入力必須になる。
逆を言えば、入力必須でない場合は`null: true`にすると良い。
<br>
## ヘルパー
ヘルパーには、様々な種類があり、これを使うとどういう検証なのか定義できる。
例えば、presenceを使うと、空でないかどうかを検証する。
```モデル
validates :name, presence: true
```
この場合、nameカラムに値が入っているかどうか検証し、入っていない場合には保存されない。
<br>
## オプション
<br>
オプションとは、全てのヘルパーに使うことができるものである。
<br>
例えば、`on`を指定すると検証が行われるタイミングを指定できる。
```モデル
validates :email, uniqueness: true, on: :create
```
<br>
この場合、createメソッドが実行されたときにだけ一意かどうかの検証が行われる。
